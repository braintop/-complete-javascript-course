<html>
    <body>
        <input type="text" id="country" />
        <button onclick="f1()">promise</button>
        <div class="flags"></div>

        <script>
            //promise : an object that is used as placeholder for the future
            //result of an asynchronous operation
            //promise : A container for asynchronously delivered value
            //promise : A container for a future value
            //in promises we can chain promises for a sequance of asynchronous opertions
            //instead of nesting - promises are es6 featured
            //life cycle - pending ->async task - > settled(async task has finished) and than fullfilled or rejected(error)
            //consume a promise - return from fetch api
            //later we will build our promises

            let getCountry = function (name) {
                //phase 1 :pending
                //the promise is settled
                //its fullfilled or rejected state
                //handle fullfilled promise
                let req = fetch(`https://restcountries.com/v2/name/${name}`)
                    .then((response) => {
                        console.log(response);
                        //the data is in the body
                        //need to call the json
                        return response.json(); //available in all result value.
                        //The response.json() its asynchronous function. so its return promise
                    })
                    .then((data) => {
                        console.log(data);
                    })
                    .catch((err) => {
                        console.log("error:" + err);
                    });
            };
            getCountry("usa");
            getCountry("israel");
        </script>
    </body>
</html>
